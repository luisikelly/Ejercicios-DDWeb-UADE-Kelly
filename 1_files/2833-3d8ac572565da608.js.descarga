(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2833],{15862:function(e,t,r){"use strict";r.d(t,{P:function(){return p},c:function(){return l}});var i=r(76145),n=r(2929),a=r(26757),o=r(35557);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let l={minWidth:"18.75rem"},p=(0,n.Z)("div",{target:"ekbohxd0"})((0,a.ZP)("breaker-ad-wrapper",s(s(s(s(s(s(s(s(s({},o.Cg),o.$_),o.jf),o.GQ),o.bK),o.o3),o.FK),o.cp),o.e6),{clear:"both",color:"black",textAlign:"center",position:e=>e.mobileStickyAds?{"<xs":"sticky",_:"static"}:"static",mt:"{m}",mb:"{m}","&.clearfix":{clear:"both"},"&:after":{content:'""',borderBottom:"border-thin-greyLight",m:{_:"{s} {mobileOuterGutter} 0",md:"{s} {tabletOuterGutter} 0",xxlg:"{s} 0 0"},display:"flex",position:e=>e.mobileStickyAds?{"<xs":"absolute",_:"static"}:"static",bottom:{"<xs":0},width:{"<xs":"-webkit-fill-available"}},variant:"ad-wrapper",m:"{m} 0",display:"flex",flexDirection:"column",justifyContent:e=>e.mobileStickyAds?{"<xs":"start",_:"space-between"}:"space-between"}),"")},12833:function(e,t,r){"use strict";r.d(t,{$B:function(){return Z},CY:function(){return b},GO:function(){return d},M6:function(){return k},Ml:function(){return P},NZ:function(){return $},a0:function(){return L},ad:function(){return f},k$:function(){return S},pU:function(){return u},pX:function(){return j},xg:function(){return D}});var i=r(76145),n=r(2929),a=r(26757),o=r(35557),c=r(15862),s=r(60711),l=r(65539);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let u="20.625rem",d="1rem",f=`calc(${u} * 2 - ${d})`,g="45.25rem",b="3.5rem",w=`calc(2 * ${d})`,h={_:0,md:b,smd:0,"xlg:xxxlg":0,"xxxlg>":0},v=`calc(calc((100vw - min(${f}, calc(100vw - ${d} * 2)))/-2))`,y=m(m(m(m({},o.bK),o.FK),o.jf),o.Dh),O={marginBottom:"s",position:"relative",bps:[{options:{size:"<md"},value:{maxWidth:`calc(100vw - (${d} * 2))`,marginLeft:d,marginRight:d,[c.P]:{width:"100vw",marginLeft:`calc(-1 * (1.95 * ${d}))`}}},{options:{size:"md:smd"},value:{marginLeft:"auto",marginRight:"auto",[c.P]:{width:"100vw",marginLeft:`calc((100vw - (${g} - 2 * ${d})) / -2)`}}},{options:{size:"smd:xxlg"},value:{maxWidth:f,marginLeft:`calc((100vw - ${f} - ${d} - ${u}) / 2)`,paddingLeft:"1rem",paddingRight:"1rem","@media print":{mx:"0",maxWidth:"100%"}}},{options:{size:"xxxlg>"},value:{marginLeft:`calc((100vw - ${f}) / 2)`,maxWidth:f,width:"100%",paddingLeft:"1rem",paddingRight:"1rem","@media print":{mx:"0",maxWidth:"100%"}}}]},x={marginBottom:"s",position:"relative",bps:[{options:{size:"<md"},value:{maxWidth:`calc(100vw - (${d} * 2))`,marginLeft:d,marginRight:d,[c.P]:{width:"100vw",marginLeft:`calc(-1 * ${d})`}}},{options:{size:"md:smd"},value:{marginLeft:"auto",marginRight:"auto",[c.P]:{width:"100vw",marginLeft:`calc((100vw - (${f} - 2 * ${d})) / -2)`}}},{options:{size:"smd:xxlg"},value:{maxWidth:f,marginLeft:`calc((100vw - ${f} - ${d} - ${u}) / 2)`,paddingLeft:"1rem",paddingRight:"1rem",[c.P]:{width:"100vw",marginLeft:`calc(calc((100vw - ${f} - ${d} - ${u}) / -2) - ${d})`}}},{options:{size:"xxxlg>"},value:{marginLeft:`calc((100vw - ${f}) / 2)`,maxWidth:f,paddingLeft:"1rem",paddingRight:"1rem",[c.P]:{width:"100vw",marginLeft:`calc(calc((100vw - calc(${u} * 2 + ${d})) / -2) - ${w})`},"[data-has-sponsor] &":{minWidth:f}}}]};(0,n.Z)("div",{target:"eqcpqpk8"})((0,a.ZP)("article-wrapper",m(m(m(m(m({},o.eC),o.bK),o.FK),o.jf),o.Dh),{marginBottom:"s",bps:[{options:{size:"<md"},value:{marginLeft:d,marginRight:d,[c.P]:{width:"100vw",marginLeft:`calc(-1 * ${d})`}}},{options:{size:"md:smd"},value:{maxWidth:`min(${f}, calc(100vw - (${d} * 3)))`,marginLeft:"auto",marginRight:"auto",[c.P]:{width:"100vw",marginLeft:`calc((100vw - (${f} - 2 * ${b})) / -2)`}}},{options:{size:"smd:xxlg"},value:{paddingLeft:"2rem",maxWidth:f,marginLeft:`calc((100vw - ${f} - ${d} - ${u}) / 2)`,[c.P]:{width:"100vw",marginLeft:`calc(calc((100vw - ${f} - ${d} - ${u}) / -2) - ${d})`}}},{options:{size:"xxxlg>"},value:{marginLeft:`calc((100vw - ${f}) / 2)`,marginRight:`calc((100vw - ${f}) / 2)`,maxWidth:f,[c.P]:{width:"100vw",marginLeft:`calc(calc((100vw - calc(${u} * 2 + ${d})) / -2) - ${w})`}}}]}),"");let P=(0,n.Z)("div",{target:"eqcpqpk7"})((0,a.ZP)("article-body",m(m(m(m(m(m(m({},o.GQ),o.eC),o.bK),o.FK),o.Dh),o.cp),o.WD),{position:"relative",px:h,"&:after":{clear:"both",content:'" "',display:"block",fontSize:"0",height:0,visibility:"hidden"},bps:[{options:{size:"md:smd"},value:{maxWidth:g,marginLeft:"auto",marginRight:"auto"}}]}),""),j=(0,n.Z)("div",{target:"eqcpqpk6"})((0,a.ZP)("article-lead",m(m(m(m(m(m({},o.GQ),o.eC),o.bK),o.o3),o.FK),o.Dh),{justifySelf:"center",position:"relative",bps:[{options:{size:"<sm"},value:{marginLeft:"-50vw",marginRight:"-50vw",width:"100vw",left:"50%",right:"50%"}}]}),"");(0,n.Z)("div",{target:"eqcpqpk5"})((0,a.ZP)("journey-inline",m(m(m({},o.jf),o.eC),o.Dh),{mt:"1.25rem",px:h,"@media print":{display:"none"}}),""),(0,s.Z)(l.default,{__themeKey:"recipe-open-web-comments-wrapper",sx:{gridColumn:{_:"1",lg:"2/3"},padding:0}});let $=(0,n.Z)("div",{target:"eqcpqpk4"})((0,a.ZP)("article-wrapper",y,O),""),S=(0,n.Z)("div",{target:"eqcpqpk3"})((0,a.ZP)("article-wrapper",m({},y),m({},x)),""),Z=(0,n.Z)("div",{target:"eqcpqpk2"})((0,a.ZP)("article-wrapper-longform",m({},y),{marginLeft:"auto",marginRight:"auto",marginBottom:"s",maxWidth:`min(${f}, calc(100vw - ${d} * 2))`,position:"relative",[c.P]:{width:"100vw",paddingLeft:{"xxxlg>":"0.1rem"},paddingRight:{"xxxlg>":"0.1rem"},marginLeft:{_:`calc((100vw - min(${f}, calc(100vw - ${d} * 2)))/-2)`,"md:smd":`calc(calc((100vw - min(${f}, calc(100vw - ${d} * 2)))/-2) - ${b})`,smd:v,"xxxlg>":v}}}),""),L={gridColumn:{_:"1",lg:"2/3"}},k=(0,n.Z)("div",{target:"eqcpqpk1"})((0,a.ZP)("article-right-column-wrapper",m(m({},o.GQ),o.jf),{flexBasis:`calc((100vw - ${f} - ${d} - ${u}) / 2)`,flexGrow:0,flexShrink:0,display:{_:"block","<smd":"none"}}),""),D=(0,n.Z)("div",{target:"eqcpqpk0"})((0,a.ZP)("article-content-wrapper",m(m(m(m({},o.bK),o.FK),o.jf),o.Dh),{display:"flex"}),"")},65539:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var i=r(4575),n=r(76145),a=r(27954),o=r(50581),c=r(11829),s=r(52148),l=r(92590),p=r(54644),m=r(14178),u=r(99770);let d=new m.Z("OpenWebAuth"),f=async(e,t,r,i)=>{let{username:n,legacy_username:a,preferredUsername:o,email:c}=r;if(n&&o)try{let r=await (0,u.he)((0,p.b)("/auth/spotim-login/",{access_token:i,code_a:e,primary_key:a||n,user_name:o,display_name:o,email:c})),s=await r.text();t(s)}catch(e){d.warn("spotim login error ",e)}},g=async()=>{"undefined"!=typeof SPOTIM&&await SPOTIM?.logout(),["SPOTIM_CURRENT_USER","SPOTIM_ACCESS_TOKEN"].forEach(e=>localStorage.removeItem(e))},b=async(e,t)=>{if("undefined"==typeof SPOTIM)return;let{username:r,legacy_username:i,preferredUsername:n,email:a}=e||{};if(r&&n)try{if((await SPOTIM.startSSO((r,i)=>f(r,i,e,t))).displayName!==n)try{await g();let o=await (0,u.he)((0,p.b)("/auth/spotim-update",{primary_key:i||r,display_name:n,user_name:n,email:a}));200===o.status&&b(e,t)}catch(e){d.warn("spotim update error ",e)}}catch(e){d.warn("spotimStartSSO error reason: ",e)}else g()};var w=r(59266);let{RUNTIME_CIAM_AUTH_URLS:h}=r(9218).default;async function v(e,t){let{default:i}=await r.e(5415).then(r.t.bind(r,15415,23));return new i({clientId:e,redirectUri:(0,p.b)("/auth/login"),myloApiBaseUrl:h,myloUiBaseUrl:t,pkce:!1})}var y=r(26118),O=r(6268),x=r(43218),P=r.n(x),j=r(58495),$=r(52028);let S=()=>{let{0:e,1:t}=(0,o.useState)(!1),r=(0,j.Dv)($.th),i=(0,j.Dv)($.zg);return(0,o.useEffect)(()=>{(r<=3&&0!==r||i===r-4)&&t(!0)},[i]),e};var Z=r(22732),L=r(10043),k=r(50581);let D=["spotimConfig","withSeoEnabled","withSocialReview","postId","postUrl"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function R(e){let{spotimConfig:t,withSeoEnabled:r,withSocialReview:n,postId:p,postUrl:m}=e,u=(0,a.Z)(e,D),{0:d,1:f}=(0,o.useState)(""),{inView:g,ref:h,observer:x}=(0,y.Z)(),j=(0,o.useRef)(),$=(0,w.Vi)("ssr.spotImSeoComments.commentCount",0),_=(0,w.IK)("showSpotimDarkMode"),R=(0,Z.useSetAuthorizedUser)();(0,O.Z)("<smd",j);let C=j.current?1:10,W=E(E({"data-messages-count":C,"data-post-id":p,"data-post-url":m,"data-theme":_?l.VH:l.sn},r&&{"data-seo-enabled":"true"}),n&&{"data-social-reviews":"true"}),{spotId:q,ssotoken:z}=t||{},K=`${l.S1}${q}`,U=(0,w.Vi)("layoutContextProps.siteData.metadata.ciam"),I=(0,Z.useUserData)()||{},M=S();(0,o.useEffect)(()=>{b(I,z)},[I]),(0,o.useEffect)(()=>{K&&q&&"loaded"!==d&&g&&x.current.unobserve(h.current)},[g]);let T=async()=>{f("loaded"),document.addEventListener(l.Um,async()=>{let e=await v(U.clientId,U.loginURL),{username:t,preferredUsername:r}=I||{},i={urlParams:{app_id:"spotim"}};t?r||e.viewPopup("username",i):e.viewPopup("signup",i)}),window.addEventListener("mylo-auth-complete",async()=>{R(!0)}),"undefined"!=typeof SPOTIM&&SPOTIM&&SPOTIM?.startSSO?b(I,z):document.addEventListener(l.iU,()=>{b(I,z)},{once:!0})};return(0,L.tZ)(c.oM,(0,i.Z)({commentCount:$>C?C:$,ref:h},u),g||M?(0,L.tZ)(k.Fragment,null,(0,L.tZ)(P(),{"data-spotim-module":"spotim-launcher",src:K,onLoad:T,onError:()=>f("error")}),(0,L.tZ)(c.$j,(0,i.Z)({"data-spotim-module":"conversation"},W),(0,L.tZ)(s.Z,{embedName:"OpenWeb"}))):null)}R.displayName="OpenWebComments",R.defaultProps={withSeoEnabled:!1,withSocialReview:!1}},52028:function(e,t,r){"use strict";r.d(t,{VW:function(){return n},th:function(){return a},zg:function(){return o}});var i=r(90665);let n=(0,i.cn)(""),a=(0,i.cn)(0),o=(0,i.cn)(0)},11829:function(e,t,r){"use strict";r.d(t,{$j:function(){return u},l9:function(){return d},oM:function(){return m}});var i=r(76145),n=r(2929),a=r(26757),o=r(35557);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let l="{*borderWidths.thin} solid {*colors.greyLight}",p=[{max:3,value:"21.8rem"},{max:5,value:"34.9rem"},{max:10,value:"48rem"}],m=(0,n.Z)("div",{target:"e1s71tft2"})((0,a.ZP)("open-web-comments-wrapper",s(s(s(s(s(s(s(s(s(s({},o.GQ),o.Oq),o.Cg),o.$_),o.jf),o.eC),o.bK),o.e6),o.Dh),o.cp),{borderBottom:l,borderTop:l,display:"block",gridArea:"article_body",gridColumn:"article_body-start / article_body-end",gridRow:"auto",justifySelf:"center",maxWidth:{lg:40.25},minHeight:({commentCount:e})=>e?p?.find?.(({max:t})=>e<t)?.value||"80.5rem":{"<smd":"28rem"},margin:{_:"1.25rem 0 0"},width:{"<xxs":"100%",xs:"488px","sm>":"612px"},"@media print":{display:"none"}}),""),u=(0,n.Z)("div",{target:"e1s71tft1"})((0,a.ZP)("open-web-comments-content",s(s({},o.Dh),o.cp),{display:"block",padding:{_:".9375rem 0"},textAlign:"center"}),""),d=(0,n.Z)("div",{target:"e1s71tft0"})((0,a.ZP)(null,o.FK,{position:"relative"}),"")},92590:function(e,t){t.S1="https://launcher.spot.im/spot/",t.iU="spot-im-api-ready",t.Um="spot-im-login-start",t.VH="dark",t.sn="light"},52148:function(e,t,r){"use strict";var i=r(76145),n=r(2929),a=r(26757),o=r(35557),c=r(90310),s=r(10043);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let m=(0,n.Z)("div",{target:"e6tei0z0"})((0,a.ZP)("screen-reader-only",p(p(p({},o.jf),o.FK),o.bK),{position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}),"");function u({embedName:e}){let t=(0,c.$G)({key:"content.embedAccessibilityText",macros:{embedName:e||"Third Party"}});return(0,s.tZ)(m,{"data-ad-exclude":!0},t)}u.displayName="ScreenReader",t.Z=u},54644:function(e,t,r){"use strict";r.d(t,{b:function(){return i}}),r(22344);let i=(e,t={},r={})=>{let i;r?.baseDomain!==!1&&(i=r?.baseDomain?r.baseDomain:window.location.origin);let n=new URL(e,i);return Object.entries(t).forEach(([e,t])=>n.searchParams.append(e,t)),n.toString()}}}]);